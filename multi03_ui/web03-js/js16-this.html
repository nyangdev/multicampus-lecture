<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    

    <pre>
        this
        - 전역에서의 this : 전역 객체
        - 함수 안에서의 this : 전역 객체
        - 객체 안에서의 this : 객체
        - 생성자함수 안에서의 this : 객체
        - 화살표함수 안에서의 this : 상위 scope 의 this
        - this 바인딩
    </pre>

    <script>
        // 전역에서의 this
        console.log(this);

        // 함수 안에서의 this
        function func() {
            console.log(this);
        }
        func();
        console.log(`---> func (${typeof(func)})`);

        // 객체 안에서의 this
        const user = {
            name: "minji",
            me: function() {
                console.log(this);
            }
        }

        user.me();

        // 생성자함수 안에서의 this
        function People() {
            this.name = "minji";
            this.age = 25;
            this.prn = function() {
                console.log(this);
            }
        }

        const minji = new People();
        minji.prn();


        // 화살표 함수 안에서의 this
        function Monster() {
            this.name = "dragon";
            this.age = 10000;
            this.attack = ()=>{console.log(`${this.name}이 공격합니다.`);}
        }
        const dragon = new Monster();
        dragon.attack();

        const test = {
            name: "test",
            inner: function() {
                const name = "inner";
                const prn = ()=>{console.log(this.name);};
                prn();
            }
        }
        test.inner(); // test
        // 상위 스코프 객체를 가져오기 때문에 inner가 아니라 test가 출력됨.

        // this 바인딩
        function outer() {
            this.name = "outer";

            function inner() {
                const name = "inner";
                console.log(`${this.name}`);
            }
            inner();
        }
        outer();

        // method chaining
        const obj = {
            result: 0,
            add: function(num) {
                this.result += num;
                return this;
            }
        }

        console.log(obj.add(10).add(20).add(30).result);

    </script>

</body>
</html>